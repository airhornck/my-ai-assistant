# 测试计划

## 综合测试

运行命令：

```bash
# 运行所有测试场景
python scripts/test_comprehensive/runner.py

# 只运行意图识别测试
python scripts/test_comprehensive/runner.py --intent
```

## 测试场景

### 1. 记忆系统测试

| 场景 | 用户数 | 请求数 | 说明 |
|------|--------|--------|------|
| 短期记忆 | 10 | 5轮×10=50 | 多轮对话记忆 |
| 长期记忆 | 10 | 2轮×10=20 | 跨会话持久化 |
| 上下文窗口 | 5 | 4轮×5=20 | 多轮连续对话 |
| 标签更新 | 10 | 2轮×10=20 | 用户标签追加 |

### 2. 意图识别测试

| 场景 | 用户数 | 请求数 | 说明 |
|------|--------|--------|------|
| 闲聊分类 | 15 | 15 | 闲聊意图识别 |
| 自定义提取 | 10 | 10 | 信息提取 |
| 交叉意图 | 10 | 2轮×10=20 | 多意图组合 |

### 3. 全流程测试

| 场景 | 用户数 | 请求数 | 说明 |
|------|--------|--------|------|
| 完整创作 | 10 | 10 | 端到端生成 |
| 澄清流程 | 5 | 5 | 信息不完整时的澄清 |

### 4. 插件测试

| 场景 | 用户数 | 请求数 | 说明 |
|------|--------|--------|------|
| 热点插件 | 3 | 3×3=9 | B站/抖音/小红书热点 |
| 诊断插件 | 3 | 3×3=9 | 账号诊断/点击率预测 |
| 生成插件 | 4 | 2×4=8 | 文案/方案生成 |

## 测试结果

测试结果保存在：

- `scripts/test_comprehensive/test_results.json` - 完整结果
- `scripts/test_comprehensive/test_results_partial.json` - 阶段结果

## 预期指标

- 总请求：~220 次
- Token 消耗：< 100,000
- 成功率：> 95%
- 测试时长：1-2 小时
